/* ========== 1) Galería responsive con auto-fit + minmax ========== */

/* 
  auto-fit: colapsa “pistas vacías” y estira las existentes → mejor reflujo.
  minmax(220px, 1fr): cada tarjeta tendrá como mínimo 220px y podrá crecer hasta ocupar 1fr.
*/
.gallery{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem;
}

.tile{
  background: #fff;
  border: 1px solid var(--gray-300);
  border-radius: var(--radius);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.tile img{
  display: block;
  width: 100%;
  height: auto;
}

.tile h3{ margin: .75rem 1rem .25rem; }
.tile p{ margin: 0 1rem 1rem; color: var(--gray-700); }

/* ========== 2) Grid por áreas (escritorio) ========== */

/* 
  Plantilla base (>= 800px): dos columnas (nav a la izquierda, main + aside a la derecha).
  grid-auto-rows: alto mínimo de las filas, crecen según contenido.
*/
.layout{
  display: grid;
  grid-template-areas:
    "header header"
    "nav    main"
    "nav    aside"
    "footer footer";
  grid-template-columns: 2fr 5fr;     /* nav más estrecho, contenido más ancho */
  grid-auto-rows: minmax(80px, auto);
  gap: 1rem;
}

.box{
  background: #fff;
  border: 1px solid var(--gray-300);
  border-radius: var(--radius);
  padding: var(--space-2);
}

.area-header{ grid-area: header; }
.area-nav   { grid-area: nav; }
.area-main  { grid-area: main; }
.area-aside { grid-area: aside; }
.area-footer{ grid-area: footer; }

/* Responsive (móvil): una sola columna y orden vertical */
@media (max-width: 800px){
  .layout{
    grid-template-areas:
      "header"
      "nav"
      "main"
      "aside"
      "footer";
    grid-template-columns: 1fr;
  }
}

/* ========== 3) Masonry “simple” con grid-auto-rows + dense ========== */

/* 
  Idea: definimos filas muy bajitas (8px). Cada bloque “ocupa” N filas → grid-row: span N.
  grid-auto-flow: dense intenta reacomodar elementos para llenar huecos.
*/
.masonry{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  grid-auto-rows: 8px;     /* altura base de cada “fila” de la malla */
  grid-auto-flow: dense;   /* intenta compactar huecos */
  gap: 1rem;
}

/* Estética genérica de los bloques */
.brick{
  background: #fff;
  border: 1px solid var(--gray-300);
  border-radius: var(--radius);
  padding: var(--space-2);
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
}

/* Clases de altura: “span N filas” (N * 8px de alto base) */
.h-10{ grid-row: span 10; }
.h-12{ grid-row: span 12; }
.h-14{ grid-row: span 14; }
.h-16{ grid-row: span 16; }
.h-18{ grid-row: span 18; }
.h-20{ grid-row: span 20; }
.h-24{ grid-row: span 24; }
.h-28{ grid-row: span 28; }

/* Ajustes menores */
.nota{
  color: var(--gray-700);
  font-size: .95rem;
}
